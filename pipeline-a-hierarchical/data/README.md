# Pipeline A: Hierarchical Data Files

## Datasets in this Folder

### Budget Function & Subfunction Reference Data

#### `budget_functions.csv`
- **Purpose**: Top-level federal spending categories
- **Content**: Budget function codes and names (e.g., National Defense, Health, Education)
- **Usage**: Starting point for hierarchical analysis
- **Key Columns**: `budget_function_code`, `budget_function_name`

#### `budget_subfunctions.csv`  
- **Purpose**: Detailed breakdown of budget functions into specific programs
- **Content**: Budget subfunction codes with parent function relationships
- **Usage**: Mid-level categorization for program analysis
- **Key Columns**: `budget_subfunction_code`, `budget_subfunction_name`, `budget_function_code`

#### `budget_function_subfunction_mapping.csv`
- **Purpose**: Hierarchical mapping between functions and subfunctions
- **Content**: Complete parent-child relationships with spending data
- **Usage**: Understanding budget structure and spending flows
- **Key Columns**: `budget_function_code`, `budget_subfunction_code`, relationships, amounts

### Quarterly Budget Spending Data

#### `budget_functions_quarterly_all.csv` (623 records)
- **Purpose**: Quarterly spending amounts by top-level budget function
- **Content**: Fiscal year and quarter-specific spending data for each budget function
- **Key Columns**: `fy`, `quarter`, `budget_function_code`, `budget_function_name`, `amount`
- **Usage**: Time series analysis, seasonal spending patterns, priority tracking
- **Coverage**: Multi-year quarterly data with actual spending amounts

#### `budget_subfunctions_quarterly_all.csv` (2,094 records)
- **Purpose**: Detailed quarterly spending by budget subfunction/program
- **Content**: Granular program-level spending data across fiscal years and quarters
- **Key Columns**: `fy`, `quarter`, `budget_function_code`, `budget_subfunction_code`, `budget_subfunction_name`, `amount`
- **Usage**: Program-level analysis, detailed spending trends, hierarchical aggregation
- **Coverage**: Complete subfunction spending data with temporal granularity

### Consolidated Multi-Year Datasets (ALL_FY Files)

#### `agency_ALL_FY.csv` (681KB)
- **Purpose**: Complete agency directory with multi-year spending data
- **Content**: All federal agencies across fiscal years with spending amounts
- **Key Columns**: `fy`, `fiscal_quarter`, `id`, `code`, `name`, `amount`
- **Usage**: Agency-level analysis, performance evaluation, trend analysis

#### `awards_ALL_FY.csv` (610MB)
- **Purpose**: Individual awards/contracts/grants across all years
- **Content**: Award-level transaction data from all collected fiscal years
- **Key Columns**: `fy`, `quarter`, `budget_function_code`, `federal_account_code`, `award_id`, `award_name`, `obligated_amount`
- **Usage**: Contract analysis, award pattern recognition, recipient research

#### `federal_accounts_ALL_FY.csv` (6.1MB)
- **Purpose**: Treasury account information across all years
- **Content**: Federal accounts where funds are managed, multi-year consolidated
- **Key Columns**: `fy`, `fiscal_quarter`, `agency`, `id`, `code`, `name`, `amount`, `account_number`
- **Usage**: Financial flow analysis, treasury account research

#### `federal_accounts_with_agency_ALL_FY.csv` (7.5MB)
- **Purpose**: Enhanced federal account data with agency relationships
- **Content**: Federal accounts enriched with detailed agency context
- **Usage**: Advanced federal account analysis with comprehensive agency information

#### `recipients_ALL_FY.csv` (1.5GB)
- **Purpose**: Complete recipient database across all years
- **Content**: All entities that received federal funding with multi-year data
- **Key Columns**: `fy`, `quarter`, `budget_function_code`, `federal_account_code`, `recipient_id`, `recipient_name`, `recipient_code`, `obligated_amount`
- **Usage**: Recipient analysis, funding network research, beneficiary studies

## Data Collection Process

These datasets are created by running the hierarchical pipeline notebooks:

1. **`budget_function_subfunction_hierarchical_mapping.ipynb`** - Creates the mapping file
2. **`Function and Subfunction.ipynb`** - Collects detailed function and subfunction data

## Analysis Applications

- **Budget Category Analysis**: Understanding federal mission priorities
- **Program-Level Spending**: Detailed breakdown within each budget function  
- **Hierarchical Aggregation**: Rolling up spending from programs to missions
- **Trend Analysis**: Changes in budget allocations over time
- **Comparative Analysis**: Spending patterns across different government functions

## Next Steps

After collecting this hierarchical reference data:
1. Use these datasets as filters for deeper data collection (agencies, accounts, recipients, awards)
2. Run the remaining Pipeline A notebooks to collect entity-level data
3. Use [Data Consolidation Pipeline](../../data-consolidation/) to create analysis-ready datasets

---

**Generated by**: [Pipeline A: Hierarchical Federal Funding Pipeline](../)
